# PRS On-Premises Single Node Configuration
# Copy this file to .env and customize for your environment

# Domain and Network Configuration
DOMAIN=your-domain.com
VERSION=latest

# Database Configuration
POSTGRES_DB=prs_onprem
POSTGRES_USER=prs_user
POSTGRES_PASSWORD=SecurePassword123!

# Application Security
JWT_SECRET=your-jwt-secret-key-minimum-32-characters-long
ENCRYPTION_KEY=your-encryption-key-32-chars
OTP_KEY=your-otp-key-base64-encoded
PASS_SECRET=your-password-secret-key
BYPASS_OTP=false

# CORS and API Configuration
CORS_ORIGIN=https://your-domain.com,https://www.your-domain.com
CITYLAND_API_URL=https://api.cityland.gov
CITYLAND_ACCOUNTING_URL=https://accounting.cityland.gov

# Root User (Initial Admin)
ROOT_USER_NAME=admin
ROOT_USER_EMAIL=admin@your-domain.com
ROOT_USER_PASSWORD=AdminPassword123!

# Monitoring
GRAFANA_ADMIN_PASSWORD=GrafanaAdmin123!
LOG_LEVEL=info

# Storage Paths (NAS mounted at /mnt/nas)
NAS_PATH=/mnt/nas
DATABASE_PATH=/mnt/nas/database
UPLOADS_PATH=/mnt/nas/uploads
BACKUPS_PATH=/mnt/nas/backups
LOGS_PATH=/mnt/nas/logs

# NAS Configuration
NAS_SERVER=your-nas-server.local
NAS_SHARE=volume1/prs
NAS_MOUNT_TYPE=nfs
# For SMB/CIFS, also set:
# NAS_USERNAME=your-nas-user
# NAS_PASSWORD=your-nas-password

# SSL Configuration
SSL_CERT_PATH=./ssl/cert.pem
SSL_KEY_PATH=./ssl/key.pem
SSL_DHPARAM_PATH=./ssl/dhparam.pem

# Email Configuration (Optional)
SMTP_HOST=smtp.your-domain.com
SMTP_PORT=587
SMTP_USER=noreply@your-domain.com
SMTP_PASSWORD=EmailPassword123!
SMTP_FROM=PRS System <noreply@your-domain.com>

# Backup Configuration
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *  # Daily at 2 AM
BACKUP_RETENTION_DAYS=30
BACKUP_ENCRYPTION_KEY=backup-encryption-key-32-chars-long

# Basic Authentication for Admin Tools
ADMIN_USER=admin
ADMIN_PASSWORD=AdminTools123!

# Application Features
ENABLE_REGISTRATION=false
ENABLE_EMAIL_VERIFICATION=false
ENABLE_PASSWORD_RESET=true
SESSION_TIMEOUT=3600
MAX_LOGIN_ATTEMPTS=5
LOCKOUT_DURATION=900

# File Upload Limits
MAX_FILE_SIZE=100MB
ALLOWED_FILE_TYPES=pdf,doc,docx,xls,xlsx,jpg,jpeg,png,gif

# Database Pool Settings
POSTGRES_POOL_MIN=2
POSTGRES_POOL_MAX=10
POSTGRES_POOL_ACQUIRE=30000
POSTGRES_POOL_IDLE=10000

# Rate Limiting
RATE_LIMIT_ENABLED=true
RATE_LIMIT_WINDOW=900000  # 15 minutes
RATE_LIMIT_MAX_REQUESTS=100
RATE_LIMIT_SKIP_SUCCESSFUL=true

# Logging Configuration
LOG_TO_FILE=true
LOG_MAX_SIZE=10m
LOG_MAX_FILES=10
LOG_LEVEL_CONSOLE=info
LOG_LEVEL_FILE=debug

# Development/Debug Settings (set to false for production)
ENABLE_DEBUG_ROUTES=false
ENABLE_SWAGGER=false
NODE_ENV=production

# Health Check Configuration
HEALTH_CHECK_INTERVAL=30s
HEALTH_CHECK_TIMEOUT=10s
HEALTH_CHECK_RETRIES=3

# Container Resource Limits
BACKEND_MEMORY_LIMIT=1g
FRONTEND_MEMORY_LIMIT=256m
POSTGRES_MEMORY_LIMIT=2g
GRAFANA_MEMORY_LIMIT=512m

# Timezone
TZ=Asia/Manila

# Container Update Policy
RESTART_POLICY=unless-stopped
